# =============================================================================
# SYNAPSES GRC PLATFORM - ENVIRONMENT CONFIGURATION
# =============================================================================
# 
# SECURITY NOTICE:
# - Never commit actual secrets to version control
# - Use different values for development, staging, and production
# - Rotate secrets regularly
# - Use environment-specific secret management systems in production
# 
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION CONFIGURATION
# -----------------------------------------------------------------------------

# Environment (development, staging, production)
NODE_ENV=development

# Application URL (used for CORS, redirects, etc.)
APP_URL=http://localhost:5173

# API Base URL
API_BASE_URL=http://localhost:5173/api

# Backend Server Configuration
PORT=3001
BACKEND_URL=http://localhost:3001

# Application Version (auto-populated by CI/CD)
APP_VERSION=1.0.0

# -----------------------------------------------------------------------------
# SUPABASE CONFIGURATION
# -----------------------------------------------------------------------------

# Supabase Project URL
# Example: https://your-project-id.supabase.co
SUPABASE_URL=your_supabase_project_url

# Supabase Anonymous Key (safe to expose in frontend)
SUPABASE_ANON_KEY=your_supabase_anon_key

# Supabase Service Role Key (NEVER expose in frontend - server-side only)
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Database Connection (if using direct connection)
# DATABASE_URL=postgresql://user:password@host:port/database

# -----------------------------------------------------------------------------
# AUTHENTICATION & SECURITY
# -----------------------------------------------------------------------------

# JWT Secret for session management (generate a strong random string)
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=your_jwt_refresh_secret_key_here
JWT_REFRESH_EXPIRES_IN=7d

# Session Configuration
SESSION_SECRET=your_session_secret_key_here
SESSION_TIMEOUT=60
SESSION_MAX_AGE=86400000

# Password policy settings
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS settings
CORS_ORIGIN=http://localhost:5173

# -----------------------------------------------------------------------------
# ANALYTICS & MONITORING
# -----------------------------------------------------------------------------

# PostHog Configuration
POSTHOG_KEY=your_posthog_project_api_key
POSTHOG_HOST=https://app.posthog.com

# Enable/disable analytics
ANALYTICS_ENABLED=true

# Error tracking (Sentry, etc.)
# SENTRY_DSN=your_sentry_dsn
# SENTRY_ENVIRONMENT=development

# Application monitoring
# NEW_RELIC_LICENSE_KEY=your_new_relic_license_key
# NEW_RELIC_APP_NAME=synapses-grc-platform

# -----------------------------------------------------------------------------
# AI & AUTOMATION
# -----------------------------------------------------------------------------

# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.1

# AI feature toggles
AI_COMPLIANCE_ASSISTANT_ENABLED=true
AI_RISK_ASSESSMENT_ENABLED=true
AI_DOCUMENT_ANALYSIS_ENABLED=true

# AI rate limiting
AI_REQUESTS_PER_MINUTE=60
AI_REQUESTS_PER_DAY=1000

# -----------------------------------------------------------------------------
# EXTERNAL INTEGRATIONS
# -----------------------------------------------------------------------------

# Nexus Configuration
NEXUS_API_KEY=your_nexus_api_key
NEXUS_BASE_URL=https://api.nexus.com

# Email service (SendGrid, Mailgun, etc.)
# EMAIL_SERVICE_API_KEY=your_email_service_api_key
EMAIL_FROM_ADDRESS=noreply@synapses.com
EMAIL_FROM_NAME=Synapses GRC Platform

# SMTP Configuration (for direct email sending)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_email_password

# SMS service (Twilio, etc.)
# TWILIO_ACCOUNT_SID=your_twilio_account_sid
# TWILIO_AUTH_TOKEN=your_twilio_auth_token
# TWILIO_PHONE_NUMBER=your_twilio_phone_number

# Cloud storage (AWS S3, Google Cloud Storage, etc.)
# AWS_ACCESS_KEY_ID=your_aws_access_key_id
# AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=synapses-documents

# -----------------------------------------------------------------------------
# COMPLIANCE & AUDIT
# -----------------------------------------------------------------------------

# Audit logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_LEVEL=info
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for compliance

# Data retention policies
DATA_RETENTION_DAYS=2555  # 7 years default
LOG_RETENTION_DAYS=90
SESSION_LOG_RETENTION_DAYS=30

# Compliance frameworks
SOC2_COMPLIANCE_ENABLED=true
GDPR_COMPLIANCE_ENABLED=true
HIPAA_COMPLIANCE_ENABLED=false
PCI_DSS_COMPLIANCE_ENABLED=false

# Data classification
DATA_CLASSIFICATION_ENABLED=true
DATA_ENCRYPTION_AT_REST=true
DATA_ENCRYPTION_IN_TRANSIT=true

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------

# Core features
FEATURE_DASHBOARD_ENABLED=true
FEATURE_COMPLIANCE_MANAGEMENT_ENABLED=true
FEATURE_RISK_ASSESSMENT_ENABLED=true
FEATURE_AUDIT_MANAGEMENT_ENABLED=true
FEATURE_REPORTING_ENABLED=true

# Advanced features
FEATURE_AI_ASSISTANT_ENABLED=true
FEATURE_AUTOMATED_COMPLIANCE_ENABLED=true
FEATURE_REAL_TIME_MONITORING_ENABLED=true
FEATURE_ADVANCED_ANALYTICS_ENABLED=true

# Beta features
FEATURE_BETA_FEATURES_ENABLED=false
FEATURE_EXPERIMENTAL_AI_ENABLED=false

# -----------------------------------------------------------------------------
# DEVELOPMENT & DEBUGGING
# -----------------------------------------------------------------------------

# Debug settings
DEBUG=false
VERBOSE_LOGGING=false
SQL_LOGGING=false

# Development tools
DEV_TOOLS_ENABLED=true
HOT_RELOAD_ENABLED=true

# Testing
TEST_DATABASE_URL=postgresql://test_user:test_password@localhost:5432/synapses_test
TEST_SUPABASE_URL=your_test_supabase_url
TEST_SUPABASE_ANON_KEY=your_test_supabase_anon_key

# -----------------------------------------------------------------------------
# PERFORMANCE & SCALING
# -----------------------------------------------------------------------------

# Caching
REDIS_URL=redis://localhost:6379
CACHE_TTL_SECONDS=3600
CACHE_ENABLED=true

# Database connection pooling
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000

# API rate limiting
API_RATE_LIMIT_ENABLED=true
API_RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
API_RATE_LIMIT_MAX_REQUESTS=1000

# File upload limits
MAX_FILE_SIZE_MB=10
MAX_FILES_PER_UPLOAD=5
ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,csv,txt

# -----------------------------------------------------------------------------
# SECURITY HEADERS & POLICIES
# -----------------------------------------------------------------------------

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_ONLY=false

# HTTPS enforcement
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000

# Security headers
SECURITY_HEADERS_ENABLED=true
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
REFERRER_POLICY=strict-origin-when-cross-origin

# Security Monitoring & Threat Detection
SECURITY_MONITORING_ENABLED=true
THREAT_DETECTION_ENABLED=true
IP_BLOCKLIST_ENABLED=true
SUSPICIOUS_ACTIVITY_THRESHOLD=10
BRUTE_FORCE_PROTECTION_ENABLED=true
BRUTE_FORCE_MAX_ATTEMPTS=5
BRUTE_FORCE_WINDOW_MS=900000
SECURITY_ALERT_EMAIL=security@synapses.com

# -----------------------------------------------------------------------------
# LOGGING & MONITORING
# -----------------------------------------------------------------------------

# Log levels: error, warn, info, debug
LOG_LEVEL=info
LOG_FORMAT=json

# Log destinations
LOG_TO_CONSOLE=true
LOG_TO_FILE=true
LOG_FILE_PATH=./logs/app.log

# Metrics and health checks
METRICS_ENABLED=true
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000

# -----------------------------------------------------------------------------
# BACKUP & DISASTER RECOVERY
# -----------------------------------------------------------------------------

# Backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# Disaster recovery
DR_ENABLED=false
DR_REGION=us-west-2

# =============================================================================
# ENVIRONMENT-SPECIFIC OVERRIDES
# =============================================================================
# 
# For production environments, consider using:
# - AWS Secrets Manager
# - Azure Key Vault
# - Google Secret Manager
# - HashiCorp Vault
# - Kubernetes Secrets
# 
# Never store production secrets in .env files!
# 
# =============================================================================